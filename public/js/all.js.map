{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(document).ready(function () {\n  var main = (function () {\n    $boardBody = $('#board-body');\n    $boardHead = $('#board-head');\n    $playerName = $('#player-name');\n    var width = 7;\n    var height = 6;\n    var board = [];\n    var boardArr = [];\n    var turn = 0;\n\n    var _player1 = 1;\n    var _player2 = 2;\n\n    var changePlayer = function () {\n      turn = (turn === _player1) ? _player2 : _player1;\n      $playerName.text(turn);\n    };\n\n    var loadBoard = function () {\n      var boxes = [];\n      var drops = [];\n\n      changePlayer();\n\n      $boardBody.empty();\n      $boardHead.empty();\n      $('.board-holder').show();\n\n      for (var t = 1; t <= width; t++) {\n        var template = '<button data-id=\"' + t +\n              '\" class=\"dropper btn btn-success\" type=\"button\">' +\n              '<span class=\"glyphicon glyphicon-arrow-down\"></span>' +\n            '</button>';\n        drops.push(template);\n      }\n\n      for (var i = height; i >= 1; i--) {\n        for (var j = width; j >= 1; j--) {\n          var boxTemplate = '<li class=\"box-holder\">' +\n              '<div id=\"slot_' + i + '_' + j + '\" class=\"slot\">' +\n              '</div>' +\n              '</li>';\n          boxes.push(boxTemplate);\n        }\n      }\n\n      $boardBody.append(boxes.join(''));\n      $boardHead.append(drops.join(''));\n    };\n\n    var checkHorizontal = function (row, col) {\n      var max = col + 3;\n\n      for (var i = col; i <= max; i++) {\n        if (!$('#slot_' + row + '_' + i).hasClass('player-' + turn)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    var checkVertical = function (row, col) {\n      var max = row + 3;\n\n      for (var j = row; j <= max; j++) {\n        if (!$('#slot_' + j + '_' + col).hasClass('player-' + turn)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    var checkDiagonalUp = function (row, col) {\n      var max = row + 3;\n\n      i = col;\n      for (var j = row; j <= max; j++) {\n        if (!$('#slot_' + j + '_' + i).hasClass('player-' + turn)) {\n          return false;\n        }\n\n        j++;\n      }\n\n      return true;\n    };\n\n    var checkDiagonalDown = function (row, col) {\n      var max = col + 3;\n\n      j = row;\n      for (var i = col; i <= max; i++) {\n        if (!$('#slot_' + j + '_' + i).hasClass('player-' + turn)) {\n          return false;\n        }\n\n        j--;\n      }\n\n      return true;\n    };\n\n    var checkWinner = function (row, col) {\n      //check horizontal\n      var precedingCol = col - 3;\n      for (var i = precedingCol; i <= col; i++) {\n        if (i > 0 && $('#slot_' + row + '_' + i).hasClass('player-' + turn)) {\n          if (checkHorizontal(row, i)) {\n            return true;\n          }\n        }\n      }\n\n      //check vertical\n      var precedingRow = row - 3;\n      for (var j = precedingRow; j <= row; j++) {\n        if (j > 0 && $('#slot_' + j + '_' + col).hasClass('player-' + turn)) {\n          if (checkVertical(j, col)) {\n            return true;\n          }\n        }\n      }\n\n      //check diagonal up\n      //i=column j=row\n      precedingCol = col - 3;\n      j = row - 3;\n      for (i = precedingCol; i <= col; i++) {\n        if (j > 0 && $('#slot_' + j + '_' + i).hasClass('player-' + turn)) {\n          if (checkDiagonalUp(j, i)) {\n            return true;\n          }\n        }\n\n        j++;\n      }\n\n      //check diagonal down\n      //i=column j=row\n      precedingCol = col - 3;\n      j = row + 3;\n      for (i = precedingCol; i <= col; i++) {\n        if (j > 0 && $('#slot_' + j + '_' + i).hasClass('player-' + turn)) {\n          if (checkDiagonalDown(j, i)) {\n            return true;\n          }\n        }\n\n        j--;\n      }\n\n      return false;\n    };\n\n    var playerDone = function (colId) {\n      for (var i = 1; i <= height; i++) {\n        if (!$('#slot_' + i + '_' + colId).hasClass('player')) {\n\n          $('#slot_' + i + '_' + colId).addClass('player-' + turn).addClass('player');\n          break;\n        }\n      }\n\n      if (checkWinner(i, colId)) {\n        alert('Player ' + turn + ' won!');\n        $('.board-holder').hide();\n      } else {\n        changePlayer();\n      }\n    };\n\n    var events = function () {\n      //Events\n      $('#start').on('click', loadBoard);\n\n      $boardHead.on('click', '.dropper', function () {\n        playerDone($(this).data('id'));\n      });\n    };\n\n    var init = function () {\n      events();\n    };\n\n    return {\n      init: init,\n    };\n  })();\n\n  main.init();\n});\n"],"sourceRoot":"/source/"}